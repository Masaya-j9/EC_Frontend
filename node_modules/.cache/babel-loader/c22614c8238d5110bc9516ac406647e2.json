{"ast":null,"code":"import _toConsumableArray from\"/Users/seniorcitizen/Documents/react/EC_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/seniorcitizen/Documents/react/EC_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/seniorcitizen/Documents/react/EC_Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import Header from'./components/Header';import Main from'./components/Main';import Basket from'./components/Basket';import Purchased from'./components/Purchased';import data from'./data';import{useState}from'react';import{BrowserRouter,Route,Switch,Link,useHistory}from\"react-router-dom\";function App(){var products=data.products;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var onAdd=function onAdd(product){var exist=cartItems.find(function(x){return x.id===product.id;});if(exist){setCartItems(cartItems.map(function(x){return x.id===product.id?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty+1}):x;}));}else{setCartItems([].concat(_toConsumableArray(cartItems),[_objectSpread(_objectSpread({},product),{},{qty:1})]));}};var onRemove=function onRemove(product){var exist=cartItems.find(function(x){return x.id===product.id;});if(exist.qty===1){setCartItems(cartItems.filter(function(x){return x.id!==product.id;}));}else{setCartItems(cartItems.map(function(x){return x.id===product.id?_objectSpread(_objectSpread({},exist),{},{qty:exist.qty-1}):x;}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{countCartItems:cartItems.length}),/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Main,{products:products,onAdd:onAdd}),/*#__PURE__*/_jsx(Basket,{cartItems:cartItems,onAdd:onAdd,onRemove:onRemove})]})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/purchased\",children:/*#__PURE__*/_jsx(Purchased,{})})]})]});}export default App;","map":{"version":3,"sources":["/Users/seniorcitizen/Documents/react/EC_Frontend/src/App.js"],"names":["Header","Main","Basket","Purchased","data","useState","BrowserRouter","Route","Switch","Link","useHistory","App","products","cartItems","setCartItems","onAdd","product","exist","find","x","id","map","qty","onRemove","filter","length"],"mappings":"olBAAA,MAAOA,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CAEA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OACEC,aADF,CAEEC,KAFF,CAGEC,MAHF,CAIEC,IAJF,CAKEC,UALF,KAMO,kBANP,CAUA,QAASC,CAAAA,GAAT,EAAe,IACLC,CAAAA,QADK,CACQR,IADR,CACLQ,QADK,eAEqBP,QAAQ,CAAC,EAAD,CAF7B,wCAENQ,SAFM,eAEKC,YAFL,eAGb,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,OAAD,CAAa,CACzB,GAAMC,CAAAA,KAAK,CAAGJ,SAAS,CAACK,IAAV,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASJ,OAAO,CAACI,EAAxB,EAAf,CAAd,CACA,GAAIH,KAAJ,CAAW,CACTH,YAAY,CACVD,SAAS,CAACQ,GAAV,CAAc,SAACF,CAAD,QACZA,CAAAA,CAAC,CAACC,EAAF,GAASJ,OAAO,CAACI,EAAjB,gCAA2BH,KAA3B,MAAkCK,GAAG,CAAEL,KAAK,CAACK,GAAN,CAAY,CAAnD,GAAyDH,CAD7C,EAAd,CADU,CAAZ,CAKD,CAND,IAMO,CACLL,YAAY,8BAAKD,SAAL,kCAAqBG,OAArB,MAA8BM,GAAG,CAAE,CAAnC,KAAZ,CACD,CACF,CAXD,CAYA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACP,OAAD,CAAa,CAC5B,GAAMC,CAAAA,KAAK,CAAGJ,SAAS,CAACK,IAAV,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASJ,OAAO,CAACI,EAAxB,EAAf,CAAd,CACA,GAAIH,KAAK,CAACK,GAAN,GAAc,CAAlB,CAAqB,CACnBR,YAAY,CAACD,SAAS,CAACW,MAAV,CAAiB,SAACL,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASJ,OAAO,CAACI,EAAxB,EAAjB,CAAD,CAAZ,CACD,CAFD,IAEO,CACLN,YAAY,CACVD,SAAS,CAACQ,GAAV,CAAc,SAACF,CAAD,QACZA,CAAAA,CAAC,CAACC,EAAF,GAASJ,OAAO,CAACI,EAAjB,gCAA2BH,KAA3B,MAAkCK,GAAG,CAAEL,KAAK,CAACK,GAAN,CAAY,CAAnD,GAAyDH,CAD7C,EAAd,CADU,CAAZ,CAKD,CACF,CAXD,CAaA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,MAAD,EAAQ,cAAc,CAAEN,SAAS,CAACY,MAAlC,EADF,cAEE,MAAC,aAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,aAAK,SAAS,CAAC,KAAf,wBACE,KAAC,IAAD,EAAM,QAAQ,CAAEb,QAAhB,CAA0B,KAAK,CAAEG,KAAjC,EADF,cAEE,KAAC,MAAD,EACE,SAAS,CAAEF,SADb,CAEE,KAAK,CAAEE,KAFT,CAGE,QAAQ,CAAEQ,QAHZ,EAFF,GADF,EADF,cAWE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,YAAlB,uBACE,KAAC,SAAD,IADF,EAXF,GAFF,GADF,CAoBD,CAED,cAAeZ,CAAAA,GAAf","sourcesContent":["import Header from './components/Header';\nimport Main from './components/Main';\nimport Basket from './components/Basket';\nimport Purchased from './components/Purchased';\n\nimport data from './data';\nimport { useState } from 'react';\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Link,\n  useHistory,\n} from \"react-router-dom\";\n\n\n\nfunction App() {\n  const { products } = data;\n  const [cartItems, setCartItems] = useState([]);\n  const onAdd = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist) {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty + 1 } : x\n        )\n      );\n    } else {\n      setCartItems([...cartItems, { ...product, qty: 1 }]);\n    }\n  };\n  const onRemove = (product) => {\n    const exist = cartItems.find((x) => x.id === product.id);\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter((x) => x.id !== product.id));\n    } else {\n      setCartItems(\n        cartItems.map((x) =>\n          x.id === product.id ? { ...exist, qty: exist.qty - 1 } : x\n        )\n      );\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <Header countCartItems={cartItems.length}></Header>\n      <BrowserRouter>\n        <Route exact path=\"/\">\n          <div className=\"row\">\n            <Main products={products} onAdd={onAdd}></Main>\n            <Basket\n              cartItems={cartItems}\n              onAdd={onAdd}\n              onRemove={onRemove}\n            ></Basket>\n          </div>\n        </Route>\n        <Route exact path=\"/purchased\">\n          <Purchased />\n        </Route>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}